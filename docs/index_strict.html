<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>6ボタン音声＆画像アプリ（厳格版）</title>
<style>
  body { text-align:center; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Sans", "Noto Sans JP", Arial, sans-serif; margin:24px; }
  h1 { margin-bottom: 8px; font-size: 20px; }
  .grid { display:grid; grid-template-columns:repeat(3,minmax(100px,1fr)); gap:12px; max-width:700px; margin:0 auto 16px; }
  button { font-size:1.1rem; padding:14px 0; border:none; border-radius:12px; color:#fff; cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,.12); }
  .praise{ background:#4CAF50; }
  .enc   { background:#2196F3; }
  #displayImage{ max-width:88vw; max-height:60vh; height:auto; margin-top:16px; border-radius:12px; }
  #status{ margin-top:10px; color:#555; font-size:0.9rem; white-space:pre-wrap; }
</style>
</head>
<body>

<h1>6ボタン音声＆画像アプリ（厳格版）</h1>
<p style="color:#666;font-size:0.9rem">docs/ に imageA.png〜imageF.png と soundA.mp3〜soundF.mp3 を置いてください。</p>

<div class="grid" id="btnGrid">
  <button class="praise" data-letter="A">A</button>
  <button class="praise" data-letter="B">B</button>
  <button class="praise" data-letter="C">C</button>
  <button class="enc"    data-letter="D">D</button>
  <button class="enc"    data-letter="E">E</button>
  <button class="enc"    data-letter="F">F</button>
</div>

<img id="displayImage" src="" alt="">
<div id="status"></div>

<audio id="audioA" preload="auto" src="soundA.mp3"></audio>
<audio id="audioB" preload="auto" src="soundB.mp3"></audio>
<audio id="audioC" preload="auto" src="soundC.mp3"></audio>
<audio id="audioD" preload="auto" src="soundD.mp3"></audio>
<audio id="audioE" preload="auto" src="soundE.mp3"></audio>
<audio id="audioF" preload="auto" src="soundF.mp3"></audio>

<script>
const imageMap = { A:'imageA.png', B:'imageB.png', C:'imageC.png', D:'imageD.png', E:'imageE.png', F:'imageF.png' };

function setImage(src){
  const img = document.getElementById('displayImage');
  const status = document.getElementById('status');
  img.onerror = () => {
    status.textContent = '画像エラー: ' + src + '\n( docs/ に存在するか、名前の大文字小文字/拡張子を確認 )';
  };
  img.src = ''; // いったん空
  requestAnimationFrame(() => {
    img.src = src + '?t=' + Date.now(); // キャッシュ回避
  });
  status.textContent = '画像: ' + src;
}

function playAudio(letter){
  const el = document.getElementById('audio' + letter);
  if(!el) return;
  try { el.currentTime = 0; } catch(e){}
  el.play().catch(()=>{});
}

document.getElementById('btnGrid').addEventListener('click', (e) => {
  const btn = e.target.closest('button[data-letter]');
  if(!btn) return;
  const letter = btn.dataset.letter;
  playAudio(letter);
  setImage(imageMap[letter]);
});
</script>

</body>
</html>
